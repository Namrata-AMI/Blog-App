<% layout("layouts/boilerplate") %>

<link href="https://cdn.quilljs.com/1.3.6/quill.bubble.css" rel="stylesheet">

<style>
  #editor {
    background-color: #000; 
    color: #fff;
    min-height: 200px;
    padding: 1rem;
    border-radius: 0.375rem;
    border: 1px solid #6c757d; 
    font-size: 1rem;
  }

  .ql-editor::before {
    color: #aaa !important;
    font-style: normal;
  }
</style>

<div class="container my-5">
  <div class="card bg-dark text-light p-5 shadow-lg border border-secondary rounded">
    <h1 class="mb-4">Admin: Create New Post</h1>

    <form method="POST" action="/admin">

      <div class="mb-3">
        <input 
          type="text" 
          name="title" 
          class="form-control bg-black text-light border border-secondary"
          placeholder="Post Title"
          required>
      </div>

    

      <div class="mb-3">
        <div id="editor" class="rounded"></div>
        <input type="hidden" name="content" id="content">
      </div>

  
      <div class="mb-3">
        <input 
          type="text" 
          name="image" 
          class="form-control bg-black text-light border border-secondary"
          placeholder="Image URL (optional)">
      </div>

      
      <button type="submit" class="btn btn-light px-4 rounded-pill">Create Post</button>
    </form>
  </div>
</div>

<script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>

<script>


  const quill = new Quill('#editor', {
    
    theme: 'bubble',
    placeholder: 'Write your post content here...'

  });


  const form = document.querySelector('form');

  form.onsubmit = () => {
    document.querySelector('#content').value = quill.root.innerHTML;
  };


</script>
